<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>BSBKTV Â· íšŒì›ê°€ì…</title>

    <style>
      body {
        background: #000;
        color: #eee;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Pretendard",
          sans-serif;
      }

      .signup-form {
        max-width: 400px;
        margin: 0 auto;
        padding: 32px 20px 64px;
      }

      .signup-form h1 {
        font-size: 24px;
        margin-bottom: 6px;
      }

      .signup-form .subtitle {
        font-size: 14px;
        color: #aaa;
        margin-bottom: 24px;
      }

      .signup-form label {
        display: block;
        font-size: 13px;
        margin-bottom: 16px;
      }

      .signup-form input[type="email"],
      .signup-form input[type="password"] {
        width: 100%;
        margin-top: 6px;
        padding: 10px 12px;
        border-radius: 6px;
        border: 1px solid #333;
        background: #111;
        color: #eee;
      }

      .signup-form input:focus {
        outline: none;
        border-color: #9f7aea;
        box-shadow: 0 0 0 1px #9f7aea55;
      }

      .terms {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        font-size: 12px;
      }

      .terms input {
        margin-top: 3px;
      }

      .btn-primary {
        width: 100%;
        margin-top: 8px;
        padding: 12px 0;
        border-radius: 999px;
        border: none;
        background: #9f7aea;
        color: #000;
        font-weight: 600;
        cursor: pointer;
      }

      .btn-primary:hover {
        background: #b794f4;
      }

      .signup-form .meta {
        margin-top: 16px;
        font-size: 13px;
        color: #999;
      }

      .signup-form .meta a {
        color: #9f7aea;
      }
    </style>
  </head>

  <body>
    <!-- ì—¬ê¸° ìœ„ìª½ì— BSBKTV í—¤ë”/ë©”ë‰´ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ë‘ê³  -->

    <form class="signup-form">
      <h1>BSBKTV ê°€ì…</h1>
      <p class="subtitle">AI ì˜¤ë””ì˜¤ë¶ Â· ì˜ìƒ ì±…ë°©ì„ í•œ ë²ˆì—.</p>

      <label>
        ì´ë©”ì¼
        <input type="email" name="email" required autocomplete="email" />
      </label>

      <label>
        ë¹„ë°€ë²ˆí˜¸
        <input
          type="password"
          name="password"
          required
          minlength="8"
          autocomplete="new-password"
        />
      </label>

      <label class="terms">
        <input type="checkbox" name="terms" required />
        <span>ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€ ë° ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì— ë™ì˜í•©ë‹ˆë‹¤.</span>
      </label>

      <button type="submit" class="btn-primary">ê°„í¸ íšŒì›ê°€ì…</button>

      <p class="meta">
        ì´ë¯¸ ê³„ì •ì´ ìˆë‚˜ìš”?
        <a href="/login">ë¡œê·¸ì¸</a>
      </p>
    </form>

    <!-- ğŸ”½ Supabase Auth ì—°ë™ ìŠ¤í¬ë¦½íŠ¸: </body> ì§ì „ì— ìœ„ì¹˜ -->
    <script type="module">
      import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

      // TODO: ì—¬ê¸° ë‘ ì¤„ë§Œ ë„¤ í”„ë¡œì íŠ¸ ê°’ìœ¼ë¡œ êµì²´
      const supabaseUrl = "https://YOUR_PROJECT_ID.supabase.co"; // ì˜ˆ: https://abcdxyz.supabase.co
      const supabaseKey = "YOUR_ANON_PUBLIC_KEY";

      const supabase = createClient(supabaseUrl, supabaseKey);

      const form = document.querySelector(".signup-form");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const email = form.elements["email"].value;
        const password = form.elements["password"].value;
        const termsChecked = form.elements["terms"].checked;

        if (!termsChecked) {
          alert("ì•½ê´€ì— ë™ì˜í•´ì•¼ ê°€ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
          return;
        }

        const { data, error } = await supabase.auth.signUp({
          email,
          password,
        });

        if (error) {
          alert("ê°€ì… ì‹¤íŒ¨: " + error.message);
          return;
        }

        alert("ê°€ì… ì™„ë£Œ! ì´ë©”ì¼ë¡œ ì „ì†¡ëœ ì¸ì¦ ë§í¬ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.");
        form.reset();
      });
    </script>
  </body>
</html>
